<h1>Countdown Timer</h1>
    <div id="countdown"></div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Получить конечное время из тега данных
        var endTime = new Date('{{ end_time|date:"Y-m-d H:i:s" }}').getTime();

        // Функция обновления таймера
        function updateCountdown() {
            var now = new Date().getTime();
            var timeRemaining = endTime - now;

            if (timeRemaining > 0) {
                var days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
                var hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                var minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
                var seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

                document.getElementById('countdown').innerHTML =
                    days + "d " + hours + "h " + minutes + "m " + seconds + "s ";
            } else {
                document.getElementById('countdown').innerHTML = "EXPIRED";
            }
        }

        // Обновление таймера каждую секунду
        setInterval(updateCountdown, 1000);
        updateCountdown(); // Начальная установка
    });
</script>